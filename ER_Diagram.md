# Stock Price Prediction Project - ER Diagram

## Entity-Relationship Diagram

```mermaid
erDiagram
    STOCK ||--o{ STOCK_DATA : "has"
    STOCK_DATA ||--o{ PREDICTION : "used_for"
    ML_MODEL ||--o{ PREDICTION : "generates"
    ML_MODEL ||--o{ MODEL_EVALUATION : "produces"
    USER_REQUEST ||--|| STOCK : "selects"
    USER_REQUEST ||--o{ ML_MODEL : "chooses"
    
    STOCK {
        string stock_symbol PK
        string stock_name
        string file_path
    }
    
    STOCK_DATA {
        int id PK
        string stock_symbol FK
        date date
        float open_price
        float high_price
        float low_price
        float close_price
        int volume
        string name
    }
    
    ML_MODEL {
        string model_name PK
        string model_type
        string description
    }
    
    PREDICTION {
        int id PK
        string stock_symbol FK
        string model_name FK
        date prediction_date
        float predicted_price
        float actual_price
        date created_at
    }
    
    MODEL_EVALUATION {
        int id PK
        string model_name FK
        string stock_symbol FK
        float mean_squared_error
        float test_score
        date evaluation_date
    }
    
    USER_REQUEST {
        int request_id PK
        string stock_symbol FK
        date request_date
        string selected_models
    }
```

## Project Structure Overview

### Entities Description:

1. **STOCK**: Represents individual stock companies
   - Attributes: stock_symbol (Primary Key), stock_name, file_path
   - Example: AAPL, GOOGL, MSFT

2. **STOCK_DATA**: Historical stock price data from CSV files
   - Attributes: id (Primary Key), stock_symbol (Foreign Key), date, open_price, high_price, low_price, close_price, volume, name
   - Relationship: Many-to-One with STOCK

3. **ML_MODEL**: Machine Learning models available for prediction
   - Attributes: model_name (Primary Key), model_type, description
   - Models: SVR_linear, SVR_rbf, SVR_poly, linear_regression, random_forests, KNN, DT, elastic_net, LSTM_model

4. **PREDICTION**: Stock price predictions generated by ML models
   - Attributes: id (Primary Key), stock_symbol (Foreign Key), model_name (Foreign Key), prediction_date, predicted_price, actual_price, created_at
   - Relationships: Many-to-One with STOCK_DATA and ML_MODEL

5. **MODEL_EVALUATION**: Performance metrics for ML models
   - Attributes: id (Primary Key), model_name (Foreign Key), stock_symbol (Foreign Key), mean_squared_error, test_score, evaluation_date
   - Relationship: Many-to-One with ML_MODEL

6. **USER_REQUEST**: User interactions through the web interface
   - Attributes: request_id (Primary Key), stock_symbol (Foreign Key), request_date, selected_models
   - Relationships: Many-to-One with STOCK, Many-to-Many with ML_MODEL

## Data Flow

1. User selects a stock file and ML algorithms via Flask web interface
2. System loads stock data from CSV files (STOCK_DATA)
3. Selected ML models (ML_MODEL) process the stock data
4. Models generate predictions (PREDICTION) and evaluations (MODEL_EVALUATION)
5. Results are displayed in the dashboard

